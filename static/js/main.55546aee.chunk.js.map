{"version":3,"sources":["pages/favorits.js","pages/home.js","components/navbar.js","App.js","index.js"],"names":["Favorites","props","setRedirect","e","data","setState","redirect","console","log","arr","state","favorites","indexlocation","findIndex","x","cityId","fromFavorits","localStorage","setItem","JSON","stringify","renderRedirect","to","message","localStorageEmpty","getLocalStorage","parse","getItem","this","undefined","length","incenrtToHtml","className","style","maxWidth","map","city","i","key","onClick","id","defaultCity","cityMaxTemp","cityPhrase","marginTop","color","React","Component","Home","handleClickModal","LocalizedName","parseInt","Key","changeCityUi","bind","toggleModal","search","tempArray","find","followBotton","apiKey","fiveDays","modalIsOpen","citySearchResArr","listOfFollowers","getDayOfWeek","handleInputChange","handleClickSearch","followOnOff","tempArr","setTimeout","setCity","objIndex","url","axios","method","headers","Origin","then","res","DailyForecasts","Day","IconPhrase","Temperature","Maximum","Value","date","dayOfWeek","Date","getDay","isNaN","event","preventDefault","target","value","citySearchRes","alert","arrTemp","findIdToRemove","splice","newFollower","temp","newFollower2","push","buttonStyle","width","height","lineHeight","textAlign","padding","borderRadius","fontWeight","cardBody","paddingLeft","paddingRight","card","Modal","isOpen","ModalHeader","toggle","ModalBody","AdministrativeArea","Country","onSubmit","handleSubmint","type","placeholder","name","onChange","marginLeft","border","backgroundColor","marginRight","day","toLocaleDateString","Navbar","class","path","exact","component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.55546aee.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass Favorites extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      redirect: false,\r\n      favorites: [],\r\n      message: \"\",\r\n      localStorageEmpty: true\r\n    };\r\n  }\r\n  setRedirect = (e, data) => {\r\n    this.setState({\r\n      redirect: true\r\n    });\r\n    // set fromFavorits to 1\r\n    console.log(data);\r\n\r\n    var arr = this.state.favorites;\r\n    var indexlocation = arr.findIndex(x => x.cityId === data);\r\n    arr[indexlocation].fromFavorits = 1;\r\n    console.log(\"this is the new arr\", arr);\r\n    console.log(\"arr location\", indexlocation);\r\n    localStorage.setItem(\"listOfFollowers\", JSON.stringify(arr));\r\n  };\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    var getLocalStorage = JSON.parse(localStorage.getItem(\"listOfFollowers\"));\r\n    console.log(\"getLocalStorage\", getLocalStorage);\r\n    this.setState({ favorites: getLocalStorage });\r\n    if (\r\n      getLocalStorage === undefined ||\r\n      getLocalStorage === null ||\r\n      getLocalStorage.length === 0\r\n    ) {\r\n      this.setState({ localStorageEmpty: false });\r\n      this.setState({\r\n        message:\r\n          \"No cities have been selected as favorite. please go to the Home page to add some\"\r\n      });\r\n    } else {\r\n      this.setState({ message: \"\" });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const localStorageEmpty = this.state.localStorageEmpty;\r\n    let incenrtToHtml;\r\n\r\n    if (localStorageEmpty) {\r\n      incenrtToHtml = (\r\n        <div className=\"card-deck\" style={{ maxWidth: \"100%\" }}>\r\n          {this.state.favorites.map((city, i) => {\r\n            console.log(\"map favorites \", this.state.favorites);\r\n            return (\r\n              <div key={city.cityId}>\r\n                {this.renderRedirect()}\r\n                <button\r\n                  className=\"card text-white bg-info\"\r\n                  onClick={e => this.setRedirect(e, city.cityId)}\r\n                  id={city.cityId}\r\n                >\r\n                  <div className=\"card-body text-center\">\r\n                    <p className=\"card-text\">{city.defaultCity}</p>\r\n                    <p className=\"card-text\">{city.cityMaxTemp + \"° c\"}</p>\r\n                    <p className=\"card-text\">{city.cityPhrase}</p>\r\n                  </div>\r\n                </button>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const divStyle = {\r\n      marginTop: \"50px\",\r\n      maxWidth: \"100%\"\r\n    };\r\n    const divMessage = {\r\n      color: \"red\"\r\n    };\r\n    // const card = {\r\n    //   maxWidth: \"100%\"\r\n    // };\r\n    // const cardText = {\r\n    //   wordWrap: \"break-word\"\r\n    // };\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"row justify-content-center\" style={divStyle}>\r\n          <h3 style={divMessage}>{this.state.message}</h3>\r\n          {incenrtToHtml}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Favorites;\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\r\nimport './style.css';\r\n\r\nclass Home extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      apiKey: 'vFpvo92SL4z6aJsThIdkQDJZe1oOnEO3',\r\n      fiveDays: [],\r\n      cityPhrase: '',\r\n      defaultCity: 'Tel Aviv',\r\n      cityMaxTemp: '',\r\n      search: '',\r\n      cityId: '',\r\n      modalIsOpen: false,\r\n      citySearchResArr: [],\r\n      followBotton: false,\r\n      listOfFollowers: [],\r\n    };\r\n    this.getDayOfWeek = this.getDayOfWeek.bind(this);\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.handleClickSearch = this.handleClickSearch.bind(this);\r\n    this.toggleModal = this.toggleModal.bind(this);\r\n    this.handleClickModal = this.handleClickModal.bind(this);\r\n    this.followOnOff = this.followOnOff.bind(this);\r\n  }\r\n\r\n  // componentDidUpdate(prevState) {\r\n  //   if (prevState.cityId !== this.state.cityId && this.state.cityId) {\r\n  //     this.changeCityUi();\r\n\r\n  // https://reactjs.org/docs/react-component.html#componentdidupdate\r\n  //   }\r\n  // }\r\n\r\n  componentDidMount() {\r\n    let tempArr = JSON.parse(localStorage.getItem('listOfFollowers'));\r\n    console.log(tempArr);\r\n    if (tempArr === undefined || tempArr === null || tempArr.length === 0) {\r\n      this.setState({ cityId: 215854 });\r\n      this.setState({ defaultCity: 'Tel Aviv' });\r\n      setTimeout(() => {\r\n        this.changeCityUi();\r\n      }, 1000);\r\n    } else {\r\n      let setCity = tempArr.find((search) => search.fromFavorits === 1);\r\n      console.log('result from find serach array', setCity);\r\n      if (setCity) {\r\n        this.setState({ cityId: setCity.cityId });\r\n        this.setState({ defaultCity: setCity.defaultCity });\r\n        this.setState({ followBotton: true });\r\n        let objIndex = tempArr.findIndex((search) => search.cityId === setCity.cityId);\r\n        tempArr[objIndex].fromFavorits = 0;\r\n        console.log('find in array setCity', setCity);\r\n        console.log('find in array tempArr ', tempArr);\r\n        console.log('in if cityId', this.state.cityId);\r\n        localStorage.setItem('listOfFollowers', JSON.stringify(tempArr));\r\n        setTimeout(() => {\r\n          this.changeCityUi();\r\n        }, 1000);\r\n      } else if (tempArr.find((search) => search.cityId === 215854)) {\r\n        this.setState({ cityId: 215854 });\r\n        this.setState({ defaultCity: 'Tel Aviv' });\r\n        this.setState({ followBotton: true });\r\n        setTimeout(() => {\r\n          this.changeCityUi();\r\n        }, 1000);\r\n      }\r\n    }\r\n\r\n    // var url = `https://dataservice.accuweather.com/forecasts/v1/daily/5day/${this.state.cityId}?apikey=${this.state.apiKey}&language=en-us&details=false&metric=true`;\r\n    // axios({\r\n    //   method: \"get\",\r\n    //   url: `https://cors-anywhere.herokuapp.com/${url}`,\r\n    //   headers: { Origin: `${url}` }\r\n    // }).then(res => {\r\n    //   console.log(\"axios res.data\", res.data.DailyForecasts);\r\n    //   const fiveDays = res.data.DailyForecasts;\r\n    //   this.setState({ fiveDays });\r\n    //   const cityPhrase = fiveDays[0].Day.IconPhrase;\r\n    //   this.setState({ cityPhrase });\r\n    //   const cityMaxTemp = fiveDays[0].Temperature.Maximum.Value;\r\n    //   this.setState({ cityMaxTemp });\r\n    //   console.log(\"componentDidMount\");\r\n    //   console.log(\"this.state.cityId\", this.state.cityId);\r\n    //   console.log(\"cityMaxTemp\", this.state.cityMaxTemp);\r\n    // });\r\n  }\r\n  changeCityUi() {\r\n    var url = `https://dataservice.accuweather.com/forecasts/v1/daily/5day/${this.state.cityId}?apikey=${this.state.apiKey}&language=en-us&details=false&metric=true`;\r\n    axios({\r\n      method: 'get',\r\n      url: `https://cors-anywhere.herokuapp.com/${url}`,\r\n      headers: { Origin: `${url}` },\r\n    }).then((res) => {\r\n      const fiveDays = res.data.DailyForecasts;\r\n      this.setState({ fiveDays });\r\n      const cityPhrase = fiveDays[0].Day.IconPhrase;\r\n      this.setState({ cityPhrase });\r\n      const cityMaxTemp = fiveDays[0].Temperature.Maximum.Value;\r\n      this.setState({ cityMaxTemp });\r\n      console.log('changeCityUi');\r\n      console.log('this.state.cityId', this.state.cityId);\r\n      console.log('cityMaxTemp', cityMaxTemp);\r\n    });\r\n  }\r\n  getDayOfWeek(date) {\r\n    var dayOfWeek = new Date(date).getDay();\r\n    return isNaN(dayOfWeek) ? null : ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'][dayOfWeek];\r\n  }\r\n  handleSubmint(event) {\r\n    event.preventDefault();\r\n  }\r\n  handleInputChange(event) {\r\n    event.preventDefault();\r\n    this.setState({ search: event.target.value });\r\n  }\r\n  handleClickSearch(event) {\r\n    event.preventDefault();\r\n    //send search city and gets back cityId\r\n    var url = `https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=${this.state.apiKey}&q=${this.state.search}&language=en-us/cors-anywhere.html`;\r\n    axios({\r\n      method: 'get',\r\n      url: `https://cors-anywhere.herokuapp.com/${url}`,\r\n      headers: { Origin: `${url}` },\r\n    }).then((res) => {\r\n      const citySearchRes = res.data;\r\n      console.log('citySearchRes');\r\n      console.log(citySearchRes);\r\n      if (citySearchRes.length === 1) {\r\n        console.log('citySearchRes[0].Key', citySearchRes[0].Key);\r\n        this.setState({ defaultCity: citySearchRes[0].LocalizedName });\r\n        this.setState({ cityId: parseInt(citySearchRes[0].Key, 10) });\r\n        let tempArray = JSON.parse(localStorage.getItem('listOfFollowers'));\r\n        let setCity = tempArray.find(\r\n          (search) => search.cityId === parseInt(citySearchRes[0].Key, 10)\r\n        );\r\n        if (setCity) {\r\n          this.setState({ followBotton: true });\r\n        } else {\r\n          this.setState({ followBotton: false });\r\n        }\r\n\r\n        this.changeCityUi();\r\n        this.setState({ search: '' });\r\n      } else if (citySearchRes.length === 0) {\r\n        alert('no city found please try another');\r\n        this.setState({ search: '' });\r\n      } else {\r\n        this.toggleModal();\r\n        this.setState({ citySearchResArr: citySearchRes });\r\n        console.log('this.state.cityId', this.state.cityId);\r\n      }\r\n    });\r\n  }\r\n  toggleModal() {\r\n    this.setState({ modalIsOpen: !this.state.modalIsOpen });\r\n  }\r\n\r\n  handleClickModal = (e, data) => {\r\n    this.setState({\r\n      defaultCity: data.LocalizedName,\r\n    });\r\n    this.setState(\r\n      { cityId: parseInt(data.Key, 10) },\r\n      function stateUpdateComplete() {\r\n        console.log('check this', this.state.cityId);\r\n        this.changeCityUi();\r\n      }.bind(this)\r\n    );\r\n    this.toggleModal();\r\n    this.setState({ search: '' });\r\n    let tempArray = JSON.parse(localStorage.getItem('listOfFollowers'));\r\n    console.log('listOfFollowers', tempArray);\r\n    let setCity = tempArray.find((search) => search.cityId === parseInt(data.Key, 10));\r\n    if (setCity) {\r\n      this.setState({ followBotton: true });\r\n    } else {\r\n      this.setState({ followBotton: false });\r\n    }\r\n  };\r\n\r\n  followOnOff() {\r\n    if (this.state.followBotton === true) {\r\n      let arrTemp = JSON.parse(localStorage.getItem('listOfFollowers'));\r\n      console.log(arrTemp);\r\n      var findIdToRemove = arrTemp.findIndex((x) => x.cityId === this.state.cityId);\r\n      console.log(findIdToRemove);\r\n      arrTemp.splice(findIdToRemove, 1);\r\n      console.log(arrTemp);\r\n      localStorage.setItem('listOfFollowers', JSON.stringify(arrTemp));\r\n      this.setState({ followBotton: false });\r\n    } else if (this.state.followBotton === false) {\r\n      //if localStorage is emplty enter new follower\r\n      if (JSON.parse(localStorage.getItem('listOfFollowers')) === null) {\r\n        console.log('local is null');\r\n        var newFollower = [\r\n          {\r\n            fromFavorits: 0,\r\n            cityId: this.state.cityId,\r\n            defaultCity: this.state.defaultCity,\r\n            cityMaxTemp: this.state.cityMaxTemp,\r\n            cityPhrase: this.state.cityPhrase,\r\n          },\r\n        ];\r\n        this.setState({ followBotton: true });\r\n        localStorage.setItem('listOfFollowers', JSON.stringify(newFollower));\r\n        console.log('this.state.cityId newFollower', newFollower);\r\n      } else {\r\n        //get localStorage and add new follower\r\n        let temp = JSON.parse(localStorage.getItem('listOfFollowers'));\r\n        console.log('temp', temp);\r\n        var newFollower2 = {\r\n          fromFavorits: 0,\r\n          cityId: this.state.cityId,\r\n          defaultCity: this.state.defaultCity,\r\n          cityMaxTemp: this.state.cityMaxTemp,\r\n          cityPhrase: this.state.cityPhrase,\r\n        };\r\n        temp.push(newFollower2);\r\n        console.log('temp2', temp);\r\n        console.log('this.state.cityId newFollower2', newFollower2);\r\n\r\n        localStorage.setItem('listOfFollowers', JSON.stringify(temp));\r\n        this.setState({ followBotton: true });\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const divStyle = {\r\n      paddingRight: '7px',\r\n      paddingLeft: '7px',\r\n      border: '6px solid #ffffff',\r\n      borderRadius: '16px',\r\n      backgroundColor: '#dddddd9c',\r\n    };\r\n\r\n    const buttonStyle = {\r\n      width: '45px',\r\n      height: '45px',\r\n      lineHeight: '45px',\r\n      textAlign: 'center',\r\n      padding: 0,\r\n      borderRadius: '50%',\r\n      fontWeight: 'bold',\r\n    };\r\n    const cityNameRow = {\r\n      marginLeft: '2%',\r\n      marginRight: '0%',\r\n    };\r\n    const cardBody = {\r\n      paddingLeft: '25px',\r\n      paddingRight: '25px',\r\n    };\r\n    const card = {\r\n      width: '115px',\r\n    };\r\n    return (\r\n      <div className=\"main\">\r\n        <Modal isOpen={this.state.modalIsOpen}>\r\n          <ModalHeader toggle={this.toggleModal.bind(this)}>\r\n            We found more than one result. Please select from list:{' '}\r\n          </ModalHeader>\r\n          <ModalBody>\r\n            {this.state.citySearchResArr.map((city) => {\r\n              console.log('city.LocalizedName', city.LocalizedName);\r\n\r\n              return (\r\n                <p\r\n                  onClick={(e) => this.handleClickModal(e, city)}\r\n                  id={city.Key}\r\n                  key={city.Key}\r\n                  className=\"list-group-item list-group-item-action\">\r\n                  {city.LocalizedName}, {city.AdministrativeArea.LocalizedName},{' '}\r\n                  {city.Country.LocalizedName}\r\n                </p>\r\n              );\r\n            })}\r\n          </ModalBody>\r\n        </Modal>\r\n        {/* search box */}\r\n        <div className=\"container\">\r\n          <br />\r\n          <div className=\"row justify-content-center\">\r\n            <div className=\"col-12 col-md-10 col-lg-8\">\r\n              <form className=\"card card-sm\" onSubmit={this.handleSubmint}>\r\n                <div\r\n                  className=\"card-body row no-gutters align-items-center\"\r\n                  style={{\r\n                    padding: '7px',\r\n                  }}>\r\n                  <div className=\"col-auto\">\r\n                    <i className=\"fas fa-search h4 text-body\" />\r\n                  </div>\r\n                  <div className=\"col\">\r\n                    <input\r\n                      className=\"form-control form-control-lg form-control-borderless\"\r\n                      type=\"search\"\r\n                      placeholder=\"Search For A City\"\r\n                      value={this.state.search}\r\n                      name=\"search\"\r\n                      onChange={this.handleInputChange}\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-auto\">\r\n                    <button\r\n                      className=\"btn btn-lg btn-success\"\r\n                      onClick={this.handleClickSearch}\r\n                      style={{\r\n                        marginLeft: '6px',\r\n                      }}>\r\n                      Search\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* Body */}\r\n        <div className=\"container\">\r\n          <br />\r\n          <br />\r\n          <div className=\"container\" style={divStyle}>\r\n            <br />\r\n            <div className=\"row\" style={cityNameRow}>\r\n              <div className=\"col-sm-6\">\r\n                <h2>{this.state.defaultCity}</h2>\r\n                <h5>{this.state.cityMaxTemp + '° c'}</h5>\r\n              </div>\r\n              <div className=\"col-sm-6 \">\r\n                <button\r\n                  id={this.state.cityId}\r\n                  style={buttonStyle}\r\n                  className={\r\n                    this.state.followBotton\r\n                      ? 'btn btn-success btn-circle btn-circle-sm m-1 float-right ml-auto'\r\n                      : 'btn btn-secondary btn-circle btn-circle-sm m-1 float-right ml-auto'\r\n                  }\r\n                  onClick={this.followOnOff}>\r\n                  <i className=\"fa fa-check\" style={buttonStyle} />\r\n                </button>\r\n                <span className=\"favorite_text\">\r\n                  {this.state.followBotton\r\n                    ? 'Click to Remove from Favorites'\r\n                    : 'Click to Add to Favorites'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <br />\r\n            <br />\r\n            <div className=\"row justify-content-center\">\r\n              <div className=\"col-sm-3\">\r\n                <h4 className=\"justify-content-center\">{this.state.cityPhrase}</h4>\r\n              </div>\r\n            </div>\r\n            <br />\r\n            <br />\r\n            {/* 5 day forcast */}\r\n            <div className=\"row justify-content-center\">\r\n              <div className=\"card-deck\">\r\n                {this.state.fiveDays.map((day, i) => {\r\n                  console.log('map 5 days ', this.state.cityPhrase);\r\n\r\n                  return (\r\n                    <div className=\"card text-white bg-info\" style={card} key={i}>\r\n                      <div className=\"card-body text-center\" style={cardBody}>\r\n                        <h5 className=\"card-text\">\r\n                          {this.getDayOfWeek(new Date(day.Date).toLocaleDateString())}\r\n                        </h5>\r\n                        <h6 className=\"card-text\">{day.Temperature.Maximum.Value + '° c'}</h6>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n            <br />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { HashRouter as Router, Route, Link } from 'react-router-dom';\r\nimport Favorites from '../pages/favorits';\r\nimport Home from '../pages/home';\r\n\r\nfunction Navbar(props) {\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <nav className=\"navbar navbar-expand-sm bg-dark navbar-dark\">\r\n          <ul class=\"navbar-nav\">\r\n            <li class=\"nav-item \">\r\n              <Link to=\"/\" className=\"nav-link\">\r\n                <h2>Weather App</h2>\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n\r\n          <ul className=\"navbar-nav ml-auto\">\r\n            <li className=\"nav-item\">\r\n              <Link to=\"/\" className=\"nav-link\">\r\n                Home\r\n              </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link to=\"/favorites/\" className=\"nav-link\">\r\n                Favorites\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n\r\n        <Route path=\"/\" exact component={Home} />\r\n        <Route path=\"/favorites/\" exact component={Favorites} />\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import React from 'react';\nimport Navbar from './components/navbar';\n\nfunction App() {\n  return (\n    <div>\n      <Navbar />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}